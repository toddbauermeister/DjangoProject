{% extends "packages/base.html" %}

{% load staticfiles %}

{% block navlist %}
  <li class="{% block packs_active %}{% endblock %}">
    <a href="{% url 'packages:index' %}">
      <span class="glyphicon glyphicon-briefcase" aria-hidden="true">
      </span>&nbsp;Packages
    </a>
  </li>

  <li class="{% block drivers_active %}{% endblock %}">
    <a href="{% url 'packages:track_packages' %}">
      <span class="glyphicon glyphicon-search" aria-hidden="true">
      </span>&nbsp;Track Packages
    </a>
  </li>
{% endblock %}

{% block content %}

{% if packages and statuses and drivers and satellite_offices and branch_offices %}

    <table id = "table" class = "table table-bordered">
        <thead>
            <tr>
                <th>Reference Number</th>
                <th>Status</th>
                <th>Volumetric Weight</th>
                <th>Receiver Address</th>
                <th>Receiver City</th>
                <th>Drivers</th>
                <th>Offices</th> <!--Make satellite offices and branch offices one list-->
            </tr>
        </thead>

        <tbody>
            {% for package in packages %}
            <tr>
                <td>{{ packages.reference_number }}</td>
                <td>{{ packages.status }}</td>
                <td>{{ packages.volumetric_weight }}</td>
                <td>{{ packages.receiver_address }}</td>
                <td>{{ packages.receiver_city}}</td>
                <td>
                    <form method="POST">
                        <select name="driver_id">
                            {% for driver in drivers %}
                                <option value="{{ driver.id }}">{{ driver }}</option>
                            {% endfor %}
                        </select>
                    </form>
                </td>
                <td> Make me a dropdown </td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

{% else %}

    <table>

        <thead>
            <tr>
                <th>Reference Number</th>
                <th>Status</th>
                <th>Volumetric Weight</th>
                <th>Receiver Address</th>
                <th>Receiver City</th>
            </tr>
        </thead>

        <tbody>
            {% for package in packages %}
                <tr>
                    <td>{{ packages.reference_number }}</td>
                    <td>{{ packages.status }}</td>
                    <td>{{ packages.volumetric_weight }}</td>
                    <td>{{ packages.receiver_address }}</td>
                    <td>{{ packages.receiver_city }}</td>
                </tr>
            {% endfor %}
        </tbody>

    </table>

{% endif %}

{% endblock %}
